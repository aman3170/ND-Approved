<script src="https://unpkg.com/@zxing/library@latest/dist/zxing-library.min.js"></script>

const video = document.getElementById('video');
const barcodeReader = new ZXing.BarcodeReader();

// Request camera access
navigator.mediaDevices.getUserMedia({ video: true })
  .then(stream => {
    video.srcObject = stream;
    video.play();
  })
  .catch(err => console.error(err));

// Scan barcode
barcodeReader.decodeOnceFromVideoDevice(null, video)
  .then(result => {
    console.log(result.text);
  })
  .catch(err => console.error(err));
